<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>libredis API</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="libredis Reference Manual">
<link rel="up" href="ch01.html" title="libredis API reference">
<link rel="prev" href="ch01.html" title="libredis API reference">
<link rel="next" href="libredis-Binary-String-support.html" title="Binary String support">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ch01.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libredis Reference Manual</th>
<td><a accesskey="n" href="libredis-Binary-String-support.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libredis-libredis-API.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#libredis-libredis-API.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="libredis API">
<a name="libredis-libredis-API"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libredis-libredis-API.top_of_page"></a>libredis API</span></h2>
<p>libredis API — C library to interact with Redis server.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="libredis-libredis-API.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;redis.h&gt;

                    <a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS">REDIS</a>;
                    <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd">RedisCmd</a>;
                    <a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray">RedisCmdArray</a>;
                    <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal">RedisRetVal</a>;
enum                <a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType">RedisProtocolType</a>;
enum                <a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode">RedisErrorCode</a>;
enum                <a class="link" href="libredis-libredis-API.html#RedisReturnType" title="enum RedisReturnType">RedisReturnType</a>;
<a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="returnvalue">REDIS</span></a>*              <a class="link" href="libredis-libredis-API.html#redis-connect" title="redis_connect ()">redis_connect</a>                       (<em class="parameter"><code><span class="type">char</span> *host</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *port</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libredis-libredis-API.html#redis-close" title="redis_close ()">redis_close</a>                         (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="returnvalue">RedisCmd</span></a>*           <a class="link" href="libredis-libredis-API.html#redisCmd-new" title="redisCmd_new ()">redisCmd_new</a>                        (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocolType</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdName</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="returnvalue">RedisCmd</span></a>*           <a class="link" href="libredis-libredis-API.html#redisCmd-newFromStr" title="redisCmd_newFromStr ()">redisCmd_newFromStr</a>                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocolType</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdStr</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> cmdLen</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      <a class="link" href="libredis-libredis-API.html#redisCmd-addArg" title="redisCmd_addArg ()">redisCmd_addArg</a>                     (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *arg</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> arglen</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      <a class="link" href="libredis-libredis-API.html#redisCmd-setArg" title="redisCmd_setArg ()">redisCmd_setArg</a>                     (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> argNum</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *argVal</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> argLen</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      <a class="link" href="libredis-libredis-API.html#redisCmd-reset" title="redisCmd_reset ()">redisCmd_reset</a>                      (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdName</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libredis-libredis-API.html#redisCmd-setProtocolType" title="redisCmd_setProtocolType ()">redisCmd_setProtocolType</a>            (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocol</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisCmd-buildProtocolStr" title="redisCmd_buildProtocolStr ()">redisCmd_buildProtocolStr</a>           (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        <a class="link" href="libredis-libredis-API.html#redisCmd-exec" title="redisCmd_exec ()">redisCmd_exec</a>                       (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisCmd-getProtocolStr" title="redisCmd_getProtocolStr ()">redisCmd_getProtocolStr</a>             (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        <a class="link" href="libredis-libredis-API.html#redisCmd-getRetVal" title="redisCmd_getRetVal ()">redisCmd_getRetVal</a>                  (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libredis-libredis-API.html#redisCmd-free" title="redisCmd_free ()">redisCmd_free</a>                       (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisReturnType" title="enum RedisReturnType"><span class="returnvalue">RedisReturnType</span></a>     <a class="link" href="libredis-libredis-API.html#redisRetVal-getType" title="redisRetVal_getType ()">redisRetVal_getType</a>                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisRetVal-getError" title="redisRetVal_getError ()">redisRetVal_getError</a>                (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libredis-libredis-API.html#redisRetVal-getInteger" title="redisRetVal_getInteger ()">redisRetVal_getInteger</a>              (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisRetVal-getLine" title="redisRetVal_getLine ()">redisRetVal_getLine</a>                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisRetVal-getBulk" title="redisRetVal_getBulk ()">redisRetVal_getBulk</a>                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>*             <a class="link" href="libredis-libredis-API.html#redisRetVal-getMultiBulk" title="redisRetVal_getMultiBulk ()">redisRetVal_getMultiBulk</a>            (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libredis-libredis-API.html#redisRetVal-getMultiBulkSize" title="redisRetVal_getMultiBulkSize ()">redisRetVal_getMultiBulkSize</a>        (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libredis-libredis-API.html#redisRetVal-free" title="redisRetVal_free ()">redisRetVal_free</a>                    (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="returnvalue">RedisCmdArray</span></a>*      <a class="link" href="libredis-libredis-API.html#redisCmdArray-new" title="redisCmdArray_new ()">redisCmdArray_new</a>                   ();
<a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      <a class="link" href="libredis-libredis-API.html#redisCmdArray-addCmd" title="redisCmdArray_addCmd ()">redisCmdArray_addCmd</a>                (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisCmdArray-buildProtocolStr" title="redisCmdArray_buildProtocolStr ()">redisCmdArray_buildProtocolStr</a>      (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              <a class="link" href="libredis-libredis-API.html#redisCmdArray-getProtocolStr" title="redisCmdArray_getProtocolStr ()">redisCmdArray_getProtocolStr</a>        (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="returnvalue">RedisCmd</span></a>**          <a class="link" href="libredis-libredis-API.html#redisCmdArray-getCmds" title="redisCmdArray_getCmds ()">redisCmdArray_getCmds</a>               (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libredis-libredis-API.html#redisCmdArray-getCmdCount" title="redisCmdArray_getCmdCount ()">redisCmdArray_getCmdCount</a>           (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>**       <a class="link" href="libredis-libredis-API.html#redisCmdArray-exec" title="redisCmdArray_exec ()">redisCmdArray_exec</a>                  (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>**       <a class="link" href="libredis-libredis-API.html#redisCmdArray-getRetVals" title="redisCmdArray_getRetVals ()">redisCmdArray_getRetVals</a>            (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libredis-libredis-API.html#redisCmdArray-free" title="redisCmdArray_free ()">redisCmdArray_free</a>                  (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        <a class="link" href="libredis-libredis-API.html#redis-exec" title="redis_exec ()">redis_exec</a>                          (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocol</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdName</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        <a class="link" href="libredis-libredis-API.html#redis-execStr" title="redis_execStr ()">redis_execStr</a>                       (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocol</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdStr</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> cmdStrLen</code></em>);
const <span class="returnvalue">char</span>*         <a class="link" href="libredis-libredis-API.html#redisError-getStr" title="redisError_getStr ()">redisError_getStr</a>                   (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="type">RedisErrorCode</span></a> errorCode</code></em>);
const <span class="returnvalue">char</span>*         <a class="link" href="libredis-libredis-API.html#redisError-getSysErrorStr" title="redisError_getSysErrorStr ()">redisError_getSysErrorStr</a>           (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="type">RedisErrorCode</span></a> errorCode</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> sysErrCode</code></em>);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="libredis-libredis-API.description"></a><h2>Description</h2>
<p>
libredis is a collection of functions and data structures that simplify the
interaction with Redis servers. Its main purpose is to bring to the end user
basic functionalities to use Redis to store and retrieve data:<br>
- Connect to Redis server.<br>
- Build the protocol string to send to server.<br>
- Send and receive data.<br>
- Translate the data received from Redis to exploitable structure.
</p>
<p>
libredis can be considered as a "low level" API since it doesn't implement every
specific Redis command, it just give the user the possibility to send data
and retrieve response from the server. The data are usually a Redis
command sequence. Most of the validation of the data sent is done at the server
level and in case of errors, the response of the server will hold these errors.
Otherwise, the result of executing the command is returned.
</p>
<p>
libredis functions usually return <code class="code">NULL</code> or <code class="code">-1</code> to
report errors and the error code will be stored <code class="code">redis_errCode</code>.
If the error is related to standard library functions,
<code class="code">redis_sysErrno</code> will also store the specific error code.<br>
<a class="link" href="libredis-libredis-API.html#redisError-getStr" title="redisError_getStr ()"><code class="function">redisError_getStr()</code></a> and <a class="link" href="libredis-libredis-API.html#redisError-getSysErrorStr" title="redisError_getSysErrorStr ()"><code class="function">redisError_getSysErrorStr()</code></a> can be used to get error
details and their return values should never be freed.
</p>
<p>
</p>
<div class="example">
<a name="id618126"></a><p class="title"><b>Example 1. Example using libredis.</b></p>
<div class="example-contents">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;stdio.h&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;redis.h&gt;</span>

<span class="type">void</span><span class="normal"> </span><span class="function">printResult</span><span class="symbol">(</span><span class="usertype">RedisRetVal</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">rv</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">   </span><span class="type">int</span><span class="normal"> i</span><span class="symbol">;</span>
<span class="normal">   </span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getType">redisRetVal_getType</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">))</span>
<span class="normal">   </span><span class="cbracket">{</span>
<span class="normal">       </span><span class="keyword">case</span><span class="normal"> REDIS_RETURN_INTEGER</span><span class="symbol">:</span>
<span class="normal">           </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Return Type  : Integer</span><span class="specialchar">\n</span><span class="string">Return Value : %d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getInteger">redisRetVal_getInteger</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">));</span>
<span class="normal">           </span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">       </span><span class="keyword">case</span><span class="normal"> REDIS_RETURN_LINE</span><span class="symbol">:</span>
<span class="normal">           </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Return Type  : Line</span><span class="specialchar">\n</span><span class="string">Return Value : %B</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getLine">redisRetVal_getLine</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">));</span>
<span class="normal">           </span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">       </span><span class="keyword">case</span><span class="normal"> REDIS_RETURN_ERROR</span><span class="symbol">:</span>
<span class="normal">           </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Return Type  : error</span><span class="specialchar">\n</span><span class="string">Return Value : %B</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getError">redisRetVal_getError</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">));</span>
<span class="normal">           </span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">       </span><span class="keyword">case</span><span class="normal"> REDIS_RETURN_BULK</span><span class="symbol">:</span>
<span class="normal">           </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Return Type  : bulk</span><span class="specialchar">\n</span><span class="string">Return Value : %B</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getBulk">redisRetVal_getBulk</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">));</span>
<span class="normal">           </span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">       </span><span class="keyword">case</span><span class="normal"> REDIS_RETURN_MULTIBULK</span><span class="symbol">:</span>
<span class="normal">           </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Return Type  : multibulk</span><span class="specialchar">\n</span><span class="string">Return Value :</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">           </span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">i </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span><span class="normal"> i </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getMultiBulkSize">redisRetVal_getMultiBulkSize</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">);</span><span class="normal"> i</span><span class="symbol">++)</span>
<span class="normal">               </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"</span><span class="specialchar">\t</span><span class="string">%B</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-getMultiBulk">redisRetVal_getMultiBulk</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">)[</span><span class="normal">i</span><span class="symbol">]);</span>
<span class="normal">           </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">           </span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">   </span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="type">int</span><span class="normal"> </span><span class="function">main</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> argc</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">**</span><span class="normal">argv</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">   </span><span class="usertype">REDIS</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">redis</span><span class="symbol">;</span>
<span class="normal">   </span><span class="usertype">RedisCmd</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">cmd</span><span class="symbol">;</span>
<span class="normal">   </span><span class="usertype">RedisRetVal</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">rv</span><span class="symbol">;</span>

<span class="normal">   </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">redis </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redis-connect">redis_connect</a></span><span class="symbol">(</span><span class="normal"><a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS">NULL</a></span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS">NULL</a></span><span class="symbol">)</span>
<span class="normal">   </span><span class="cbracket">{</span>
<span class="normal">       </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"    Error : %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisError-getStr">redisError_getStr</a></span><span class="symbol">(</span><span class="normal">redis_errCode</span><span class="symbol">));</span>
<span class="normal">       </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"SYS Error : %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisError-getSysErrorStr">redisError_getSysErrorStr</a></span><span class="symbol">(</span><span class="normal">redis_errCode</span><span class="symbol">,</span>
<span class="normal">                                                            redis_sysErrno</span><span class="symbol">));</span>
<span class="normal">       </span><span class="keyword">return</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">;</span>
<span class="normal">   </span><span class="cbracket">}</span>

<span class="normal">   cmd </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-new">redisCmd_new</a></span><span class="symbol">(</span><span class="normal">REDIS_PROTOCOL_MULTIBULK</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"SET"</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-addArg">redisCmd_addArg</a></span><span class="symbol">(</span><span class="normal">cmd</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"key1"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-addArg">redisCmd_addArg</a></span><span class="symbol">(</span><span class="normal">cmd</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"A Value"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">   rv </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-exec">redisCmd_exec</a></span><span class="symbol">(</span><span class="normal">redis</span><span class="symbol">,</span><span class="normal"> cmd</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function">printResult</span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-free">redisCmd_free</a></span><span class="symbol">(</span><span class="normal">cmd</span><span class="symbol">);</span>

<span class="normal">   cmd </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-newFromStr">redisCmd_newFromStr</a></span><span class="symbol">(</span><span class="normal">REDIS_PROTOCOL_OLD</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"SET key2 'Another Value'"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Protocol string :</span><span class="specialchar">\n</span><span class="string">%B </span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-buildProtocolStr">redisCmd_buildProtocolStr</a></span><span class="symbol">(</span><span class="normal">cmd</span><span class="symbol">));</span>
<span class="normal">   rv </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-exec">redisCmd_exec</a></span><span class="symbol">(</span><span class="normal">redis</span><span class="symbol">,</span><span class="normal"> cmd</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function">printResult</span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function"><a href="libredis-libredis-API.html#redisCmd-free">redisCmd_free</a></span><span class="symbol">(</span><span class="normal">cmd</span><span class="symbol">);</span>

<span class="normal">   rv </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="libredis-libredis-API.html#redis-execStr">redis_execStr</a></span><span class="symbol">(</span><span class="normal">redis</span><span class="symbol">,</span><span class="normal"> REDIS_PROTOCOL_MULTIBULK</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"GET key2"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function">printResult</span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">);</span>
<span class="normal">   </span><span class="function"><a href="libredis-libredis-API.html#redisRetVal-free">redisRetVal_free</a></span><span class="symbol">(</span><span class="normal">rv</span><span class="symbol">);</span>

<span class="normal">   </span><span class="function"><a href="libredis-libredis-API.html#redis-close">redis_close</a></span><span class="symbol">(</span><span class="normal">redis</span><span class="symbol">);</span>
<span class="normal">   </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="cbracket">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

</div>
<p><br class="example-break">
</p>
</div>
<div class="refsect1" title="Details">
<a name="libredis-libredis-API.details"></a><h2>Details</h2>
<div class="refsect2" title="REDIS">
<a name="REDIS:CAPS"></a><h3>REDIS</h3>
<pre class="programlisting">typedef struct _REDIS REDIS;</pre>
<p>
This structure holds all informations about Redis server. It is used by
functions that communicate with the server.
</p>
<p>
<a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> is only created by <a class="link" href="libredis-libredis-API.html#redis-connect" title="redis_connect ()"><code class="function">redis_connect()</code></a> and freed, when no longer needed,
by calling <a class="link" href="libredis-libredis-API.html#redis-close" title="redis_close ()"><code class="function">redis_close()</code></a>.
</p>
</div>
<hr>
<div class="refsect2" title="RedisCmd">
<a name="RedisCmd"></a><h3>RedisCmd</h3>
<pre class="programlisting">typedef struct _RedisCmd RedisCmd;</pre>
<p>
This structure holds all informations concerning the command to be executed.
There is different ways to construct this structure (see <code class="code">redisCmd_*</code>
functions) and the result can be passed to <a class="link" href="libredis-libredis-API.html#redisCmd-exec" title="redisCmd_exec ()"><code class="function">redisCmd_exec()</code></a> to execute the
command.
</p>
<p>
Although it is not required to construct a <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> to execute
a command (see <a class="link" href="libredis-libredis-API.html#redis-exec" title="redis_exec ()"><code class="function">redis_exec()</code></a> and <a class="link" href="libredis-libredis-API.html#redis-execStr" title="redis_execStr ()"><code class="function">redis_execStr()</code></a>), it is useful to observe
and fine tune the execution process on the server (add arguments interactively,
generating and visualizing the protocol string, reuse a command, ...).
</p>
<p>
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> should be freed with <a class="link" href="libredis-libredis-API.html#redisCmd-free" title="redisCmd_free ()"><code class="function">redisCmd_free()</code></a> when it is no longer needed.
</p>
</div>
<hr>
<div class="refsect2" title="RedisCmdArray">
<a name="RedisCmdArray"></a><h3>RedisCmdArray</h3>
<pre class="programlisting">typedef struct _RedisCmdArray RedisCmdArray;</pre>
<p>
This structure offer the possibility to execute multiple <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> at once.
The main difference with a sequential execution is the way commands are sent
the Redis server. In other words, it is an implementation of pipelining.<br>
With <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a>, every command is sent individually and the result is
retrieved for every command. On the other hand, with <a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a>, commands
are sent at once and all results are retrieved with a single call.
</p>
</div>
<hr>
<div class="refsect2" title="RedisRetVal">
<a name="RedisRetVal"></a><h3>RedisRetVal</h3>
<pre class="programlisting">typedef struct _RedisRetVal RedisRetVal;</pre>
<p>
Structure that holds the result of executing a Redis command. The type of
the result can be retrieved with <a class="link" href="libredis-libredis-API.html#redisRetVal-getType" title="redisRetVal_getType ()"><code class="function">redisRetVal_getType()</code></a>, and the value with
one of the <code class="code">redisRetVal_get*</code> function. These functions must be
called according to the value returned from <a class="link" href="libredis-libredis-API.html#redisRetVal-getType" title="redisRetVal_getType ()"><code class="function">redisRetVal_getType()</code></a>. For
example, if <a class="link" href="libredis-libredis-API.html#redisRetVal-getType" title="redisRetVal_getType ()"><code class="function">redisRetVal_getType()</code></a> return <code class="literal">REDIS_RETURN_LINE</code>,
<a class="link" href="libredis-libredis-API.html#redisRetVal-getLine" title="redisRetVal_getLine ()"><code class="function">redisRetVal_getLine()</code></a> should be called to retrieve the value.
</p>
<p>
Note that <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> is usually linked to a <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure and should
not be freed manually (it will be freed when <a class="link" href="libredis-libredis-API.html#redisCmd-free" title="redisCmd_free ()"><code class="function">redisCmd_free()</code></a> is called).
However, there is two exceptions to this rule, those returned by <a class="link" href="libredis-libredis-API.html#redis-exec" title="redis_exec ()"><code class="function">redis_exec()</code></a>
and <a class="link" href="libredis-libredis-API.html#redis-execStr" title="redis_execStr ()"><code class="function">redis_execStr()</code></a>.
Those ones should be freed with <a class="link" href="libredis-libredis-API.html#redisRetVal-free" title="redisRetVal_free ()"><code class="function">redisRetVal_free()</code></a> since they are not associated
with any <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a>.
</p>
</div>
<hr>
<div class="refsect2" title="enum RedisProtocolType">
<a name="RedisProtocolType"></a><h3>enum RedisProtocolType</h3>
<pre class="programlisting">typedef enum
{
  REDIS_PROTOCOL_OLD,
  REDIS_PROTOCOL_MULTIBULK
} RedisProtocolType;
</pre>
</div>
<hr>
<div class="refsect2" title="enum RedisErrorCode">
<a name="RedisErrorCode"></a><h3>enum RedisErrorCode</h3>
<pre class="programlisting">typedef enum
{
  REDIS_NOERROR,
  REDIS_ERROR_MEM_ALLOC,
  REDIS_ERROR_CNX_SOCKET,
  REDIS_ERROR_CNX_CONNECT,
  REDIS_ERROR_CNX_TIMEOUT,
  REDIS_ERROR_CNX_SEND,
  REDIS_ERROR_CNX_RECEIVE,
  REDIS_ERROR_CNX_GAI,
  REDIS_ERROR_CMD_UNKNOWN,
  REDIS_ERROR_CMD_ARGS,
  REDIS_ERROR_CMD_INVALIDARGNUM,
  REDIS_ERROR_CMD_INVALID,
  REDIS_ERROR_CMD_UNBALANCEDQ,
  REDIS_ERROR_RET_UNVALID,
  REDIS_ERROR_RET_NOTMULTIBULK
} RedisErrorCode;
</pre>
</div>
<hr>
<div class="refsect2" title="enum RedisReturnType">
<a name="RedisReturnType"></a><h3>enum RedisReturnType</h3>
<pre class="programlisting">typedef enum
{
  REDIS_RETURN_UNKNOWN,
  REDIS_RETURN_ERROR,
  REDIS_RETURN_LINE,
  REDIS_RETURN_BULK,
  REDIS_RETURN_MULTIBULK,
  REDIS_RETURN_INTEGER
} RedisReturnType;
</pre>
</div>
<hr>
<div class="refsect2" title="redis_connect ()">
<a name="redis-connect"></a><h3>redis_connect ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="returnvalue">REDIS</span></a>*              redis_connect                       (<em class="parameter"><code><span class="type">char</span> *host</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *port</code></em>);</pre>
<p>
Connect to Redis server <em class="parameter"><code>host</code></em> at port <em class="parameter"><code>port</code></em>. If <em class="parameter"><code>host</code></em> or/and <em class="parameter"><code>port</code></em> are <code class="code">NULL</code>,
the default values will be used ("127.0.0.1" or/and "6379").<br>
<em class="parameter"><code>host</code></em> can be a host name or address and <em class="parameter"><code>port</code></em> can be a port number or a
port name ("http", "ftp", ...)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>host</code></em> :</span></p></td>
<td>host to connect to or <code class="code">NULL</code>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>port</code></em> :</span></p></td>
<td>port to connect to or <code class="code">NULL</code>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a REDIS struct or <code class="code">NULL</code> on error. <code class="code">redis_errCode</code> will hold
the error code. <a class="link" href="libredis-libredis-API.html#redisError-getStr" title="redisError_getStr ()"><code class="function">redisError_getStr()</code></a> can be used to retrieve the error details.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redis_close ()">
<a name="redis-close"></a><h3>redis_close ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                redis_close                         (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>);</pre>
<p>
Close connection to the server and free the memory allocated by the structure.
The connection will be maintained until this function is called.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>redis</code></em> :</span></p></td>
<td>target <a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> structure to close.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_new ()">
<a name="redisCmd-new"></a><h3>redisCmd_new ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="returnvalue">RedisCmd</span></a>*           redisCmd_new                        (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocolType</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdName</code></em>);</pre>
<p>
Create a new command structure for cmdName according to <em class="parameter"><code>protocolType</code></em> protocol.
If cmdName is <code class="code">NULL</code>, build an empty command structure.
</p>
<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<code class="literal">REDIS_PROTOCOL_OLD</code> specify the protocol used in early versions of Redis and
will probably be deprecated. Starting from version 1.1, it is recommended to
use <code class="literal">REDIS_PROTOCOL_MULTIBULK</code>.
</div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocolType</code></em> :</span></p></td>
<td>type of protocol to use.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdName</code></em> :</span></p></td>
<td>Redis command or <code class="code">NULL</code>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the newly allocated <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure or <code class="code">NULL</code> on error (and
<code class="code">redis_errCode</code> will hold the error code).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_newFromStr ()">
<a name="redisCmd-newFromStr"></a><h3>redisCmd_newFromStr ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="returnvalue">RedisCmd</span></a>*           redisCmd_newFromStr                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocolType</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdStr</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> cmdLen</code></em>);</pre>
<p>
Build a command from an SQL valid quoted string of length <em class="parameter"><code>cmdLen</code></em> where:<br>
- '  begin and end a quoted region. useful to embed whitespaces.<br>
- '' is the escape sequence of '.<br>
If <em class="parameter"><code>cmdLen</code></em> is <code class="code">-1</code>, <code class="code">strlen</code> is used to get the length
of <em class="parameter"><code>cmdStr</code></em>.
</p>
<p>
It splits <em class="parameter"><code>cmdStr</code></em> to tokens on whitespaces(unless quoted). These tokens will
form the args of the <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure returned.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocolType</code></em> :</span></p></td>
<td>protocol type to use.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdStr</code></em> :</span></p></td>
<td>Redis command sequence.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdLen</code></em> :</span></p></td>
<td>command length or <code class="code">-1</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Return a <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> struct or <code class="code">NULL</code> on error and set
<code class="code">redis_errCode</code> accordingly.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_addArg ()">
<a name="redisCmd-addArg"></a><h3>redisCmd_addArg ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      redisCmd_addArg                     (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *arg</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> arglen</code></em>);</pre>
<p>
Add the argument <em class="parameter"><code>arg</code></em> of length <em class="parameter"><code>arglen</code></em> to an existing <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure.
if <em class="parameter"><code>arglen</code></em> is <code class="code">-1</code>, <code class="code">strlen</code> is used to get the length
of <em class="parameter"><code>arg</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> to add <em class="parameter"><code>arg</code></em> to.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg</code></em> :</span></p></td>
<td>the arg to add.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arglen</code></em> :</span></p></td>
<td>length of <em class="parameter"><code>arg</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">REDIS_NOERROR</code> if all is ok, else the error code corresponding to
the error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_setArg ()">
<a name="redisCmd-setArg"></a><h3>redisCmd_setArg ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      redisCmd_setArg                     (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> argNum</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *argVal</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> argLen</code></em>);</pre>
<p>
Sets the arg at index <em class="parameter"><code>argNum</code></em> to a new value specified by <em class="parameter"><code>argVal</code></em>. If <em class="parameter"><code>argLen</code></em>
is <code class="code">-1</code>, the length of <em class="parameter"><code>argVal</code></em> is determined via
<code class="code"><code class="function">strlen()</code></code>.
</p>
<p>
This function is useful for reusing the same command without allocating a new
one, just change the args and re-execute.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>the <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure to modify.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argNum</code></em> :</span></p></td>
<td>index of the arg to modify.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argVal</code></em> :</span></p></td>
<td>the new value of the arg.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argLen</code></em> :</span></p></td>
<td>the length of the arg or <code class="code">-1</code>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">REDIS_NOERROR</code> on success.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_reset ()">
<a name="redisCmd-reset"></a><h3>redisCmd_reset ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      redisCmd_reset                      (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdName</code></em>);</pre>
<p>
Reset <em class="parameter"><code>cmd</code></em> so it can be reused. This is the same as as <a class="link" href="libredis-libredis-API.html#redisCmd-new" title="redisCmd_new ()"><code class="function">redisCmd_new()</code></a> but does
not allocate memory. It just reuse the already allocated zone.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>RedisCmd to reset.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdName</code></em> :</span></p></td>
<td>Redis command name.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> return <code class="literal">REDIS_NOERROR</code> on success or the corresponding error code on
error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_setProtocolType ()">
<a name="redisCmd-setProtocolType"></a><h3>redisCmd_setProtocolType ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 redisCmd_setProtocolType            (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocol</code></em>);</pre>
<p>
Set the protocol type of <em class="parameter"><code>cmd</code></em> to <em class="parameter"><code>protocol</code></em>.
If the protocol string is already generated, it refreshen it to reflect the
protocol type specified.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>the <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure to modify.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocol</code></em> :</span></p></td>
<td>the protocol to use.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">REDIS_NOERROR</code> on success or <code class="code">-1</code> if the protocol string
cannot be generated.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_buildProtocolStr ()">
<a name="redisCmd-buildProtocolStr"></a><h3>redisCmd_buildProtocolStr ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisCmd_buildProtocolStr           (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);</pre>
<p>
Build the command string according to the Redis protocol stored in<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a>.
This string will be sent to Redis server when <em class="parameter"><code>cmd</code></em> is executed.<br>
It is not required to build the protocol string manually since it is
generated when the <em class="parameter"><code>cmd</code></em> is about to be executed. However <a class="link" href="libredis-libredis-API.html#redisCmd-buildProtocolStr" title="redisCmd_buildProtocolStr ()"><code class="function">redisCmd_buildProtocolStr()</code></a>
can be useful in debugging tasks.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure to build from the string.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the string to send to Redis server on success or <code class="code">NULL</code>
on error and <code class="code">redis_errCode</code> is set accordingly.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_exec ()">
<a name="redisCmd-exec"></a><h3>redisCmd_exec ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        redisCmd_exec                       (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);</pre>
<p>
Execute <em class="parameter"><code>cmd</code></em> by sending the corresponding protocol string and
receiving the response from Redis server described by <em class="parameter"><code>redis</code></em> structure. This
response will stored in <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> and can be retrieved with
<a class="link" href="libredis-libredis-API.html#redisCmd-getRetVal" title="redisCmd_getRetVal ()"><code class="function">redisCmd_getRetVal()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>redis</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> structure to use.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure to execute
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> structure containing the response of the server or
<code class="code">NULL</code> on error and <code class="code">redis_errCode</code> is set accordingly.
Note that the return value should never be freed since it references the
the return value stored in <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> and will be freed when <em class="parameter"><code>cmd</code></em> is freed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_getProtocolStr ()">
<a name="redisCmd-getProtocolStr"></a><h3>redisCmd_getProtocolStr ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisCmd_getProtocolStr             (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);</pre>
</div>
<hr>
<div class="refsect2" title="redisCmd_getRetVal ()">
<a name="redisCmd-getRetVal"></a><h3>redisCmd_getRetVal ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        redisCmd_getRetVal                  (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);</pre>
<p>
Get the return value of a <em class="parameter"><code>cmd</code></em> or <code class="code">NULL</code> If the command has not
been executed.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>a <a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structure.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the return value stored in <em class="parameter"><code>cmd</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmd_free ()">
<a name="redisCmd-free"></a><h3>redisCmd_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                redisCmd_free                       (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);</pre>
<p>
Free the memory allocated to <em class="parameter"><code>cmd</code></em>. It is advised to call <a class="link" href="libredis-libredis-API.html#redisCmd-free" title="redisCmd_free ()"><code class="function">redisCmd_free()</code></a> on
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> structures no longer used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>cmd</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> to free.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getType ()">
<a name="redisRetVal-getType"></a><h3>redisRetVal_getType ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisReturnType" title="enum RedisReturnType"><span class="returnvalue">RedisReturnType</span></a>     redisRetVal_getType                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getError ()">
<a name="redisRetVal-getError"></a><h3>redisRetVal_getError ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisRetVal_getError                (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getInteger ()">
<a name="redisRetVal-getInteger"></a><h3>redisRetVal_getInteger ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 redisRetVal_getInteger              (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getLine ()">
<a name="redisRetVal-getLine"></a><h3>redisRetVal_getLine ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisRetVal_getLine                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getBulk ()">
<a name="redisRetVal-getBulk"></a><h3>redisRetVal_getBulk ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisRetVal_getBulk                 (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getMultiBulk ()">
<a name="redisRetVal-getMultiBulk"></a><h3>redisRetVal_getMultiBulk ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>*             redisRetVal_getMultiBulk            (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_getMultiBulkSize ()">
<a name="redisRetVal-getMultiBulkSize"></a><h3>redisRetVal_getMultiBulkSize ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 redisRetVal_getMultiBulkSize        (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisRetVal_free ()">
<a name="redisRetVal-free"></a><h3>redisRetVal_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                redisRetVal_free                    (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> *rv</code></em>);</pre>
<p>
Free the memory allocated to <em class="parameter"><code>rv</code></em>. It is recommended to call <a class="link" href="libredis-libredis-API.html#redisRetVal-free" title="redisRetVal_free ()"><code class="function">redisRetVal_free()</code></a>
on <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> structures returned by <a class="link" href="libredis-libredis-API.html#redis-exec" title="redis_exec ()"><code class="function">redis_exec()</code></a> and <a class="link" href="libredis-libredis-API.html#redis-execStr" title="redis_execStr ()"><code class="function">redis_execStr()</code></a>
when they are no longer used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>rv</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> structure to free.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_new ()">
<a name="redisCmdArray-new"></a><h3>redisCmdArray_new ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="returnvalue">RedisCmdArray</span></a>*      redisCmdArray_new                   ();</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_addCmd ()">
<a name="redisCmdArray-addCmd"></a><h3>redisCmdArray_addCmd ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="returnvalue">RedisErrorCode</span></a>      redisCmdArray_addCmd                (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="type">RedisCmd</span></a> *cmd</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_buildProtocolStr ()">
<a name="redisCmdArray-buildProtocolStr"></a><h3>redisCmdArray_buildProtocolStr ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisCmdArray_buildProtocolStr      (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_getProtocolStr ()">
<a name="redisCmdArray-getProtocolStr"></a><h3>redisCmdArray_getProtocolStr ()</h3>
<pre class="programlisting"><a class="link" href="libredis-Binary-String-support.html#bstr-t" title="bstr_t"><span class="returnvalue">bstr_t</span></a>              redisCmdArray_getProtocolStr        (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_getCmds ()">
<a name="redisCmdArray-getCmds"></a><h3>redisCmdArray_getCmds ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisCmd" title="RedisCmd"><span class="returnvalue">RedisCmd</span></a>**          redisCmdArray_getCmds               (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_getCmdCount ()">
<a name="redisCmdArray-getCmdCount"></a><h3>redisCmdArray_getCmdCount ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 redisCmdArray_getCmdCount           (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_exec ()">
<a name="redisCmdArray-exec"></a><h3>redisCmdArray_exec ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>**       redisCmdArray_exec                  (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_getRetVals ()">
<a name="redisCmdArray-getRetVals"></a><h3>redisCmdArray_getRetVals ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>**       redisCmdArray_getRetVals            (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> 
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisCmdArray_free ()">
<a name="redisCmdArray-free"></a><h3>redisCmdArray_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                redisCmdArray_free                  (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisCmdArray" title="RedisCmdArray"><span class="type">RedisCmdArray</span></a> *cmdArray</code></em>);</pre>
</div>
<hr>
<div class="refsect2" title="redis_exec ()">
<a name="redis-exec"></a><h3>redis_exec ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        redis_exec                          (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocol</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdName</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Execute the command described by <em class="parameter"><code>cmdName</code></em> and the list of args. Last element
of the list must be a literal <code class="code">NULL</code>. The arguments must be in the
form:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="function"><a href="libredis-libredis-API.html#redis-exec">redis_exec</a></span><span class="symbol">(</span><span class="normal">redis</span><span class="symbol">,</span><span class="normal"> protocol</span><span class="symbol">,</span><span class="normal"> cmdName</span><span class="symbol">,</span><span class="normal"> arg1</span><span class="symbol">,</span><span class="normal"> arglen1</span><span class="symbol">,</span>
<span class="normal">                                     arg2</span><span class="symbol">,</span><span class="normal"> arglen2</span><span class="symbol">,</span>
<span class="normal">                                     </span><span class="symbol">...,</span>
<span class="normal">                                     <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS">NULL</a></span><span class="symbol">);</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
otherwise the behavior is unpredictable.
</p>
<p>
This is a shortcut to the sequence of the following functions:<br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-new" title="redisCmd_new ()"><code class="function">redisCmd_new()</code></a><br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-addArg" title="redisCmd_addArg ()"><code class="function">redisCmd_addArg()</code></a> (optional depending of the command arguments).<br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-buildProtocolStr" title="redisCmd_buildProtocolStr ()"><code class="function">redisCmd_buildProtocolStr()</code></a>.<br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-exec" title="redisCmd_exec ()"><code class="function">redisCmd_exec()</code></a>.<br>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>redis</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> structure to use.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocol</code></em> :</span></p></td>
<td>the protocol to use to communicate with Redis server.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdName</code></em> :</span></p></td>
<td>the Redis command to execute.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>
<code class="code">NULL</code> terminated list of arg-argLen pairs.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> structure or <code class="code">NULL</code> on error and
<code class="code">redis_errCode</code> is set accordingly. It is recommended to free
the return value with <a class="link" href="libredis-libredis-API.html#redisRetVal-free" title="redisRetVal_free ()"><code class="function">redisRetVal_free()</code></a> when no longer needed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redis_execStr ()">
<a name="redis-execStr"></a><h3>redis_execStr ()</h3>
<pre class="programlisting"><a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="returnvalue">RedisRetVal</span></a>*        redis_execStr                       (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> *redis</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisProtocolType" title="enum RedisProtocolType"><span class="type">RedisProtocolType</span></a> protocol</code></em>,
                                                         <em class="parameter"><code><span class="type">char</span> *cmdStr</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> cmdStrLen</code></em>);</pre>
<p>
Execute <em class="parameter"><code>cmdStr</code></em> on the server and return the result as a <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> structure.
<em class="parameter"><code>cmdStr</code></em> and <em class="parameter"><code>cmdStrLen</code></em> meet the same requirement as those passed to
<a class="link" href="libredis-libredis-API.html#redisCmd-newFromStr" title="redisCmd_newFromStr ()"><code class="function">redisCmd_newFromStr()</code></a>.
</p>
<p>
In fact, <a class="link" href="libredis-libredis-API.html#redis-execStr" title="redis_execStr ()"><code class="function">redis_execStr()</code></a> is a shortcut to the following call sequence:<br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-newFromStr" title="redisCmd_newFromStr ()"><code class="function">redisCmd_newFromStr()</code></a>.<br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-buildProtocolStr" title="redisCmd_buildProtocolStr ()"><code class="function">redisCmd_buildProtocolStr()</code></a>.<br>
- <a class="link" href="libredis-libredis-API.html#redisCmd-exec" title="redisCmd_exec ()"><code class="function">redisCmd_exec()</code></a>.<br>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>redis</code></em> :</span></p></td>
<td>
<a class="link" href="libredis-libredis-API.html#REDIS:CAPS" title="REDIS"><span class="type">REDIS</span></a> structure to use.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocol</code></em> :</span></p></td>
<td>the protocol to use to communicate with Redis server.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdStr</code></em> :</span></p></td>
<td>the Redis command sequence to execute.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cmdStrLen</code></em> :</span></p></td>
<td>
<em class="parameter"><code>cmdStr</code></em> length or <code class="code">-1</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a  <a class="link" href="libredis-libredis-API.html#RedisRetVal" title="RedisRetVal"><span class="type">RedisRetVal</span></a> structure or <code class="code">NULL</code> on error and
<code class="code">redis_errCode</code> is set accordingly. It is recommended to free
the return value with <a class="link" href="libredis-libredis-API.html#redisRetVal-free" title="redisRetVal_free ()"><code class="function">redisRetVal_free()</code></a> when no longer needed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisError_getStr ()">
<a name="redisError-getStr"></a><h3>redisError_getStr ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span>*         redisError_getStr                   (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="type">RedisErrorCode</span></a> errorCode</code></em>);</pre>
<p>
Get the error description of an error code returned or set by a libredis
function.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>errorCode</code></em> :</span></p></td>
<td>libredis error code.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> string containing the error description of <em class="parameter"><code>errorCode</code></em> or <code class="code">NULL</code> if
no description found.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="redisError_getSysErrorStr ()">
<a name="redisError-getSysErrorStr"></a><h3>redisError_getSysErrorStr ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span>*         redisError_getSysErrorStr           (<em class="parameter"><code><a class="link" href="libredis-libredis-API.html#RedisErrorCode" title="enum RedisErrorCode"><span class="type">RedisErrorCode</span></a> errorCode</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> sysErrCode</code></em>);</pre>
<p>
Get the error description corresponding to a standard library error (usually
<code class="code">errno</code>). This function is usually used for debugging purpose.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>errorCode</code></em> :</span></p></td>
<td>libredis error code.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>sysErrCode</code></em> :</span></p></td>
<td>standard library error code.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> string containing the error description of a standard library error.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>